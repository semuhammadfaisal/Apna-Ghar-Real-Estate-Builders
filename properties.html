<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Properties - Apna Ghar Real Estate & Builders</title>
  <link rel="stylesheet" href="css/style.css">
  <link href="https://fonts.googleapis.com/css?family=Poppins:700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap" rel="stylesheet">
  <link rel="icon" href="assets/images/logo.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    body{margin:0;padding:0;background:linear-gradient(135deg,#f8f9fa 0%,#e9ecef 100%)}
    .properties-section{padding:6rem 0 4rem;background:linear-gradient(135deg,#f8f9fa 0%,#ffffff 50%,#f1f3f4 100%);margin-top:0;position:relative}
    .properties-section::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="0.5" fill="%23000" opacity="0.02"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');pointer-events:none}
    .property-filters{display:flex;justify-content:center;gap:0.8rem;margin-bottom:4rem;flex-wrap:nowrap;overflow-x:auto;padding:1rem;background:rgba(255,255,255,0.9);border-radius:20px;backdrop-filter:blur(10px);box-shadow:0 8px 32px rgba(0,0,0,0.1);border:1px solid rgba(255,255,255,0.2);max-width:600px;margin:0 auto 4rem auto}
    .filter-btn{padding:14px 20px;border:none;background:rgba(255,255,255,0.8);color:#495057;border-radius:15px;cursor:pointer;font-weight:700;font-size:0.9rem;transition:all 0.4s cubic-bezier(0.4,0,0.2,1);font-family:'Poppins',sans-serif;box-shadow:0 4px 12px rgba(0,0,0,0.08);text-align:center;position:relative;overflow:hidden;z-index:10;white-space:nowrap;flex-shrink:0;min-width:90px;text-transform:uppercase;letter-spacing:0.5px}
    .filter-btn::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(194,136,17,0.1) 0%,rgba(194,136,17,0.05) 100%);opacity:0;transition:opacity 0.3s ease;z-index:-1}
    .filter-btn:hover::before{opacity:1}
    .filter-btn:hover{color:#ffffff;background:rgba(194,136,17,0.9);transform:translateY(-3px) scale(1.05);box-shadow:0 8px 25px rgba(194,136,17,0.2)}
    .filter-btn.active{background:linear-gradient(135deg,#C28811 0%,#d4941a 100%);color:white;transform:translateY(-2px);box-shadow:0 8px 25px rgba(194,136,17,0.4);border:2px solid rgba(255,255,255,0.3)}
    .filter-btn.active::before{display:none}
    .properties-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem;margin:0 auto}
    .property-card{background:linear-gradient(145deg,#ffffff 0%,#fafbfc 100%);border-radius:20px;overflow:hidden;box-shadow:0 8px 30px rgba(0,0,0,0.1);transition:all 0.4s cubic-bezier(0.4,0,0.2,1);display:block;border:1px solid rgba(255,255,255,0.8);position:relative;z-index:3;backdrop-filter:blur(5px)}
    .property-card.hidden{display:none}
    .property-card:hover{transform:translateY(-10px) scale(1.02);box-shadow:0 20px 50px rgba(194,136,17,0.15);border-color:rgba(194,136,17,0.3)}
    .property-image{height:220px;overflow:hidden;position:relative;border-radius:16px 16px 0 0}
    .property-image::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(194,136,17,0.1) 0%,transparent 50%);opacity:0;transition:opacity 0.3s ease;z-index:1}
    .property-card:hover .property-image::after{opacity:1}
    .property-image img{width:100%;height:100%;object-fit:cover;transition:transform 0.4s ease}
    .property-card:hover .property-image img{transform:scale(1.08)}
    .property-content{padding:2rem 1.8rem}
    .property-content h3{font-size:1.4rem;font-weight:800;color:#2c3e50;margin-bottom:0.8rem;font-family:'Poppins',sans-serif;line-height:1.3}
    .property-price{font-size:1.5rem;font-weight:900;background:linear-gradient(135deg,#C28811 0%,#d4941a 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:1rem;font-family:'Poppins',sans-serif;text-shadow:0 2px 4px rgba(194,136,17,0.1)}
    .property-location{color:#6c757d;margin-bottom:1rem;display:flex;align-items:center;gap:0.5rem;font-size:0.9rem}
    .property-location i{color:#C28811}
    .property-details{display:grid;grid-template-columns:1fr 1fr;gap:0.5rem;margin-bottom:1.5rem}
    .property-details span{display:flex;align-items:center;gap:0.5rem;font-size:0.85rem;color:#495057;font-weight:500;padding:0.4rem 0.6rem;background:#f8f9fa;border-radius:8px}
    .property-details i{color:#C28811;font-size:0.8rem;width:14px}
    .property-features{display:flex;gap:0.5rem;margin-bottom:1.5rem;flex-wrap:wrap}
    .property-features span{background:#C28811;color:white;padding:0.4rem 0.8rem;border-radius:20px;font-size:0.8rem;font-weight:600}
    .property-actions{display:flex;gap:0.8rem}
    .property-actions .btn-primary{flex:1;background:linear-gradient(135deg,#C28811 0%,#d4941a 100%);color:white;border:none;border-radius:12px;padding:1rem;text-decoration:none;font-weight:700;font-size:0.95rem;text-align:center;transition:all 0.3s ease;box-shadow:0 4px 15px rgba(194,136,17,0.3);text-transform:uppercase;letter-spacing:0.5px}
    .property-actions .btn-primary:hover{background:linear-gradient(135deg,#b07d0f 0%,#C28811 100%);transform:translateY(-3px);box-shadow:0 8px 25px rgba(194,136,17,0.4)}
    .property-actions .btn-secondary{flex:1;background:linear-gradient(135deg,rgba(37,211,102,0.1) 0%,rgba(37,211,102,0.05) 100%);color:#25d366;border:2px solid #25d366;border-radius:12px;padding:1rem;text-decoration:none;font-weight:700;font-size:0.95rem;text-align:center;transition:all 0.3s ease;text-transform:uppercase;letter-spacing:0.5px}
    .property-actions .btn-secondary:hover{background:linear-gradient(135deg,#25d366 0%,#20c55e 100%);color:white;transform:translateY(-3px);box-shadow:0 8px 25px rgba(37,211,102,0.3)}
    .container{width:90%;max-width:1200px;margin:0 auto;padding:0 20px}
    @media (max-width:992px){.properties-grid{grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}}
    @media (max-width:768px){.properties-section{padding:4rem 0}.property-filters{gap:0.4rem}.filter-btn{padding:10px 14px;font-size:0.8rem;min-width:75px}.properties-grid{grid-template-columns:1fr;gap:1.5rem}.property-actions{flex-direction:row;gap:0.8rem}}
    @media (max-width:480px){.container{padding:0 5px}.properties-section{padding:3rem 0}.property-filters{gap:0.3rem}.filter-btn{padding:8px 12px;font-size:0.75rem;min-width:70px}.property-content{padding:1.2rem}.property-content h3{font-size:1.1rem}.property-price{font-size:1.2rem}.property-details{grid-template-columns:1fr;gap:0.4rem}.property-details span{font-size:0.8rem;padding:0.3rem 0.5rem}.property-image{height:180px}.property-features span{font-size:0.75rem;padding:0.3rem 0.6rem}.property-actions{gap:0.6rem}.property-actions .btn-primary,.property-actions .btn-secondary{font-size:0.85rem;padding:0.8rem}}
    .property-logo{position:absolute;top:10px;right:10px;width:40px;height:40px;background:white;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
    .property-logo img{width:30px;height:30px;object-fit:contain}
    .installment-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem}
    .expand-btn{background:none;border:none;color:#C28811;font-size:1.2rem;cursor:pointer;transition:transform 0.3s ease;animation:blink 1.5s infinite}
    .expand-btn.expanded{transform:rotate(180deg);animation:none}
    @keyframes blink{0%,50%{opacity:1}25%,75%{opacity:0.3}}
    .payment-plan{background:linear-gradient(135deg,#f8f9fa 0%,#ffffff 100%);border-radius:12px;padding:1.5rem;margin:1rem 0;border:2px solid rgba(194,136,17,0.1);box-shadow:0 4px 15px rgba(0,0,0,0.1)}
    .payment-plan h4{color:#C28811;font-size:1.1rem;font-weight:700;margin-bottom:1rem;text-align:center;font-family:'Poppins',sans-serif}
    .payment-table{width:100%;border-collapse:separate;border-spacing:0;font-size:0.85rem;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
    .payment-table th{background:linear-gradient(135deg,#C28811 0%,#b07d0f 100%);color:white;font-weight:700;padding:0.8rem 0.5rem;text-align:center;font-size:0.8rem;border:none}
    .payment-table th:first-child{border-radius:8px 0 0 0}
    .payment-table th:last-child{border-radius:0 8px 0 0}
    .payment-table td{padding:0.7rem 0.5rem;text-align:center;border:none;background:white;font-weight:500;color:#333}
    .payment-table tr:nth-child(even) td{background:#f8f9fa}
    .payment-table tr:hover td{background:rgba(194,136,17,0.1);transition:background 0.3s ease}
    .payment-table td:first-child{font-weight:700;color:#C28811;background:rgba(194,136,17,0.05)!important}
    .payment-table tr:nth-child(even) td:first-child{background:rgba(194,136,17,0.08)!important}
    @media (max-width:768px){.payment-plan{padding:1rem}.payment-table{font-size:0.75rem}.payment-table th,.payment-table td{padding:0.5rem 0.3rem}}
    @media (max-width:480px){.payment-table{display:block;overflow-x:auto;white-space:nowrap}.payment-table th,.payment-table td{min-width:90px;font-size:0.7rem}}
    @media (max-width:360px){.container{padding:0 5px}.property-filters{gap:0.2rem}.filter-btn{padding:6px 8px;font-size:0.7rem;min-width:60px}.property-content{padding:0.8rem}.property-content h3{font-size:1rem}.property-actions{gap:0.3rem}.property-actions .btn-primary,.property-actions .btn-secondary{font-size:0.8rem;padding:0.6rem}}
    .page-header{text-align:center;margin-bottom:4rem;position:relative}
    .header-decoration{display:flex;align-items:center;justify-content:center;gap:1rem;margin-bottom:2rem}
    .decoration-line{width:60px;height:2px;background:linear-gradient(135deg,#C28811 0%,#d4941a 100%);border-radius:2px}
    .header-icon{font-size:2rem;color:#C28811;padding:0.8rem;background:rgba(194,136,17,0.1);border-radius:50%;box-shadow:0 4px 15px rgba(194,136,17,0.2)}
    .page-title{margin-bottom:1.5rem;font-family:'Poppins',sans-serif}
    .title-main{display:block;font-size:3.5rem;font-weight:900;background:linear-gradient(135deg,#C28811 0%,#d4941a 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.1;margin-bottom:0.5rem}
    .title-accent{display:block;font-size:1.2rem;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:2px}
    .page-subtitle{font-size:1.3rem;color:#495057;font-weight:400;margin-bottom:3rem;line-height:1.6;max-width:700px;margin-left:auto;margin-right:auto}
    .subtitle-highlight{color:#C28811;font-weight:600}
    .page-subtitle strong{color:#2c3e50;font-weight:700}
    .stats-row{display:flex;justify-content:center;gap:3rem;margin-top:2rem}
    .stat-item{text-align:center;padding:1.5rem;background:rgba(255,255,255,0.8);border-radius:16px;box-shadow:0 4px 20px rgba(0,0,0,0.08);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.3);transition:all 0.3s ease}
    .stat-item:hover{transform:translateY(-5px);box-shadow:0 8px 30px rgba(194,136,17,0.15)}
    .stat-item i{font-size:2rem;color:#C28811;margin-bottom:0.8rem;display:block}
    .stat-number{display:block;font-size:2.5rem;font-weight:900;color:#2c3e50;font-family:'Poppins',sans-serif;line-height:1}
    .stat-label{display:block;font-size:0.9rem;color:#6c757d;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-top:0.5rem}
    @media (max-width:768px){.title-main{font-size:2.8rem}.page-subtitle{font-size:1.1rem}.stats-row{gap:1.5rem}.stat-item{min-width:120px;padding:1rem}}
    @media (max-width:480px){.title-main{font-size:2.2rem}.decoration-line{width:40px}.stats-row{gap:0.8rem}.stat-item{padding:0.8rem;min-width:100px}.stat-number{font-size:1.8rem}.stat-label{font-size:0.8rem}}
    .property-count{text-align:center;margin-bottom:2rem;font-size:1rem;color:#495057;font-weight:600}
    .no-results{text-align:center;padding:4rem 2rem;color:#6c757d}
    .no-results i{font-size:4rem;color:#C28811;margin-bottom:1rem;display:block}
    .no-results h3{font-size:1.5rem;margin-bottom:1rem;color:#495057}
    .no-results p{font-size:1rem;margin-bottom:2rem}


    .back-to-top{position:fixed;bottom:30px;right:30px;width:50px;height:50px;background:linear-gradient(135deg,#C28811 0%,#d4941a 100%);color:white;border:none;border-radius:50%;cursor:pointer;font-size:1.2rem;box-shadow:0 4px 15px rgba(194,136,17,0.3);transition:all 0.3s ease;z-index:1000;opacity:0;visibility:hidden}
    .back-to-top.show{opacity:1;visibility:visible}
    .back-to-top:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(194,136,17,0.4)}
    .loading{display:none;text-align:center;padding:2rem;color:#C28811}
    .loading i{font-size:2rem;animation:spin 1s linear infinite}
    @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
    @media (max-width:768px){.back-to-top{bottom:20px;right:20px;width:45px;height:45px;font-size:1.1rem}}
    .filters-container{background:linear-gradient(135deg,rgba(255,255,255,0.95) 0%,rgba(248,249,250,0.95) 100%);backdrop-filter:blur(15px);border-radius:20px;padding:2rem;margin-bottom:3rem;box-shadow:0 10px 40px rgba(0,0,0,0.1);border:1px solid rgba(255,255,255,0.3)}
    .search-section{margin-bottom:1.5rem}
    .search-input-wrapper{position:relative;max-width:500px;margin:0 auto}
    .search-input{width:100%;padding:16px 20px 16px 50px;border:2px solid rgba(194,136,17,0.2);border-radius:15px;font-size:1rem;background:rgba(255,255,255,0.9);transition:all 0.3s ease;box-shadow:0 4px 15px rgba(0,0,0,0.05)}
    .search-input:focus{border-color:#C28811;outline:none;box-shadow:0 6px 25px rgba(194,136,17,0.15);background:white}
    .search-icon{position:absolute;left:18px;top:50%;transform:translateY(-50%);color:#C28811;font-size:1.1rem}
    .controls-section{display:flex;gap:1.5rem;margin-bottom:1.5rem;flex-wrap:wrap;justify-content:center}
    .sort-wrapper,.price-wrapper{display:flex;align-items:center;gap:0.8rem;background:rgba(255,255,255,0.8);padding:12px 18px;border-radius:12px;border:1px solid rgba(194,136,17,0.2);box-shadow:0 3px 12px rgba(0,0,0,0.05)}
    .sort-icon,.price-icon{color:#C28811;font-size:1rem}
    .sort-select{border:none;background:transparent;font-size:0.9rem;cursor:pointer;color:#495057;font-weight:500;min-width:140px}
    .sort-select:focus{outline:none}
    .price-content{display:flex;align-items:center;gap:0.8rem}
    .price-label{font-size:0.85rem;color:#6c757d;font-weight:600;white-space:nowrap}
    .price-slider{width:120px;height:4px;border-radius:2px;background:linear-gradient(to right,#C28811 0%,#e9ecef 0%);outline:none;-webkit-appearance:none}
    .price-slider::-webkit-slider-thumb{appearance:none;width:18px;height:18px;border-radius:50%;background:#C28811;cursor:pointer;box-shadow:0 2px 6px rgba(194,136,17,0.3)}
    .price-display{font-size:0.9rem;font-weight:700;color:#C28811;min-width:50px}
    .filter-actions{display:flex;justify-content:center;gap:1rem;margin-bottom:1rem}
    .toggle-btn,.clear-btn{border:none;padding:12px 20px;border-radius:12px;cursor:pointer;font-size:0.9rem;font-weight:600;display:flex;align-items:center;gap:0.8rem;transition:all 0.3s ease}
    .toggle-btn{background:linear-gradient(135deg,#C28811 0%,#d4941a 100%);color:white;box-shadow:0 4px 15px rgba(194,136,17,0.3)}
    .toggle-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(194,136,17,0.4)}
    .clear-btn{background:#f8f9fa;color:#6c757d;border:1px solid #e9ecef}
    .clear-btn:hover{background:#e9ecef;color:#495057}
    .filter-summary{display:flex;flex-wrap:wrap;gap:0.5rem;justify-content:center;margin-bottom:1rem;min-height:20px}
    .filter-tag{background:#C28811;color:white;padding:0.4rem 0.8rem;border-radius:20px;font-size:0.8rem;display:flex;align-items:center;gap:0.5rem}
    .filter-tag .remove{cursor:pointer;font-weight:bold}
    .filter-tag .remove:hover{color:#ffeb3b}
    @media (max-width:768px){.controls-section{flex-direction:column;align-items:center}.sort-wrapper,.price-wrapper{width:100%;max-width:300px;justify-content:center}.filters-grid{grid-template-columns:1fr}.filter-actions{flex-direction:column;align-items:center}.toggle-btn,.clear-btn{width:200px;justify-content:center}.filter-summary{justify-content:center}}
    .toggle-arrow{transition:transform 0.3s ease}
    .toggle-btn.active .toggle-arrow{transform:rotate(180deg)}
    .advanced-panel{max-height:0;overflow:hidden;transition:all 0.4s ease;opacity:0}
    .advanced-panel.show{max-height:200px;opacity:1;margin-top:1.5rem}
    .filters-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}
    .filter-item{background:rgba(255,255,255,0.7);padding:1rem;border-radius:12px;border:1px solid rgba(194,136,17,0.1)}
    .filter-item label{display:flex;align-items:center;gap:0.5rem;font-size:0.85rem;font-weight:600;color:#495057;margin-bottom:0.5rem}
    .filter-item label i{color:#C28811}
    .filter-item select{width:100%;padding:8px 12px;border:1px solid #e9ecef;border-radius:8px;font-size:0.85rem;background:white;cursor:pointer}
    .filter-item select:focus{border-color:#C28811;outline:none}

    .property-actions-extended{display:flex;gap:0.5rem;margin-top:1rem;flex-wrap:wrap}
    .action-btn{padding:0.5rem;border:none;border-radius:8px;cursor:pointer;font-size:0.85rem;transition:all 0.3s ease;display:flex;align-items:center;gap:0.3rem}
    .btn-favorite{background:#f8f9fa;color:#6c757d}
    .btn-favorite.active{background:#dc3545;color:white}
    .btn-share{background:#007bff;color:white}
    .btn-compare{background:#28a745;color:white}
    .btn-print{background:#6c757d;color:white}
    .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:1000;align-items:center;justify-content:center}
    .modal.show{display:flex}
    .modal-content{background:white;border-radius:16px;padding:2rem;max-width:500px;width:90%;max-height:80vh;overflow-y:auto}
    .modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}
    .modal-close{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#6c757d}
    .gallery-container{position:relative}
    .gallery-main{width:100%;height:200px;overflow:hidden;border-radius:12px;position:relative}
    .gallery-main img{width:100%;height:100%;object-fit:cover;cursor:pointer}
    .gallery-nav{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.5);color:white;border:none;padding:0.5rem;border-radius:50%;cursor:pointer;font-size:1rem}
    .gallery-prev{left:10px}
    .gallery-next{right:10px}
    .gallery-thumbs{display:flex;gap:0.5rem;margin-top:0.5rem;overflow-x:auto}
    .gallery-thumb{width:50px;height:50px;border-radius:8px;overflow:hidden;cursor:pointer;opacity:0.6;transition:opacity 0.3s}
    .gallery-thumb.active{opacity:1;border:2px solid #C28811}
    .gallery-thumb img{width:100%;height:100%;object-fit:cover}
    .comparison-panel{position:fixed;bottom:0;left:0;right:0;background:white;padding:1rem;box-shadow:0 -4px 15px rgba(0,0,0,0.1);transform:translateY(100%);transition:transform 0.3s ease;z-index:999}
    .comparison-panel.show{transform:translateY(0)}
    .comparison-items{display:flex;gap:1rem;overflow-x:auto}
    .comparison-item{min-width:200px;padding:1rem;border:1px solid #e9ecef;border-radius:8px;text-align:center}

  </style>
</head>
<body>
  <div id="navbar"></div>

  <!-- Properties Filter Tabs -->
  <section class="properties-section">
    <div class="container">
      <div class="page-header">
        <div class="header-decoration">
          <div class="decoration-line"></div>
          <i class="fas fa-home header-icon"></i>
          <div class="decoration-line"></div>
        </div>
        <h1 class="page-title">
          <span class="title-main">Our Properties</span>
          <span class="title-accent">Premium Collection</span>
        </h1>
        <p class="page-subtitle">
          <span class="subtitle-highlight">Discover your dream home</span> with our premium collection of 
          <strong>houses</strong>, <strong>plots</strong>, and <strong>flexible installment plans</strong>
        </p>
        <div class="stats-row">
          <div class="stat-item">
            <i class="fas fa-home"></i>
            <span class="stat-number">50+</span>
            <span class="stat-label">Houses</span>
          </div>
          <div class="stat-item">
            <i class="fas fa-map"></i>
            <span class="stat-number">100+</span>
            <span class="stat-label">Plots</span>
          </div>
          <div class="stat-item">
            <i class="fas fa-calendar-alt"></i>
            <span class="stat-number">3</span>
            <span class="stat-label">Payment Plans</span>
          </div>
        </div>
      </div>
      

      
      <div class="property-count" id="propertyCount">Showing 6 properties</div>
      
      <div class="property-filters">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="houses">Houses</button>
        <button class="filter-btn" data-filter="plots">Plots</button>
        <button class="filter-btn" data-filter="installments">Installments</button>
      </div>
      
      <div class="no-results" id="noResults" style="display:none;">
        <i class="fas fa-search"></i>
        <h3>No Properties Found</h3>
        <p>Sorry, we couldn't find any properties matching your criteria. Please try a different filter.</p>
      </div>
      
      <div class="properties-grid">
        <!-- Houses -->
        <div class="property-card" data-category="houses" data-price="38000000" data-bedrooms="4" data-bathrooms="6" data-area="B-17" data-size="8">
          <div class="gallery-container">
            <div class="gallery-main">
              <img src="assets/images/8 marla house.webp" alt="Multi Garden House" onclick="openGallery(0, 0)">
              <button class="gallery-nav gallery-prev" onclick="prevImage(0)"><i class="fas fa-chevron-left"></i></button>
              <button class="gallery-nav gallery-next" onclick="nextImage(0)"><i class="fas fa-chevron-right"></i></button>
            </div>
            <div class="gallery-thumbs">
              <div class="gallery-thumb active"><img src="assets/images/8 marla house.webp" alt="View 1"></div>
              <div class="gallery-thumb"><img src="assets/images/5 marla house.webp" alt="View 2"></div>
              <div class="gallery-thumb"><img src="assets/images/283647522-800x600.webp" alt="View 3"></div>
            </div>
          </div>
          <div class="property-content">
            <h3>Double Story House</h3>
            <div class="property-price">PKR 3.8 Crore</div>
            <p class="property-location"><i class="fas fa-map-marker-alt"></i> B-17 Block - E, Islamabad</p>
            <div class="property-details">
              <span><i class="fas fa-home"></i> 8 Marla</span>
              <span><i class="fas fa-bed"></i> 4 Bedrooms</span>
              <span><i class="fas fa-utensils"></i> 2 Kitchen</span>
              <span><i class="fas fa-bath"></i> 6 Washrooms</span>
            </div>
            <div class="property-actions">
              <a href="tel:+923125209696" class="btn-primary">Call Now</a>
              <a href="https://wa.me/923125209696" class="btn-secondary" target="_blank">WhatsApp</a>
            </div>
            <div class="property-actions-extended">
              <button class="action-btn btn-favorite" onclick="toggleFavorite(this)"><i class="fas fa-heart"></i></button>
              <button class="action-btn btn-share" onclick="shareProperty(this)"><i class="fas fa-share"></i></button>
              <button class="action-btn btn-compare" onclick="addToCompare(this)"><i class="fas fa-balance-scale"></i></button>
              <button class="action-btn btn-print" onclick="printProperty(this)"><i class="fas fa-print"></i></button>
              <button class="action-btn btn-contact" onclick="openContactModal(this)"><i class="fas fa-envelope"></i></button>
            </div>
          </div>
        </div>

        <div class="property-card" data-category="houses" data-price="21000000" data-bedrooms="4" data-bathrooms="4" data-area="B-17" data-size="5">
          <div class="gallery-container">
            <div class="gallery-main">
              <img src="assets/images/5 marla house.webp" alt="B-17 House" onclick="openGallery(1, 0)">
              <button class="gallery-nav gallery-prev" onclick="prevImage(1)"><i class="fas fa-chevron-left"></i></button>
              <button class="gallery-nav gallery-next" onclick="nextImage(1)"><i class="fas fa-chevron-right"></i></button>
            </div>
            <div class="gallery-thumbs">
              <div class="gallery-thumb active"><img src="assets/images/5 marla house.webp" alt="View 1"></div>
              <div class="gallery-thumb"><img src="assets/images/8 marla house.webp" alt="View 2"></div>
            </div>
          </div>
          <div class="property-content">
            <h3>Designer House</h3>
            <div class="property-price">PKR 2.1 Crore</div>
            <p class="property-location"><i class="fas fa-map-marker-alt"></i>B-17, Islamabad</p>
            <div class="property-details">
              <span><i class="fas fa-home"></i> 5 Marla</span>
              <span><i class="fas fa-bed"></i> 4 Bedrooms</span>
              <span><i class="fas fa-utensils"></i> 1 Kitchen</span>
              <span><i class="fas fa-bath"></i> 4 Washrooms</span>
            </div>
            <div class="property-actions">
              <a href="tel:+923125209696" class="btn-primary">Call Now</a>
              <a href="https://wa.me/923125209696" class="btn-secondary" target="_blank">WhatsApp</a>
            </div>
            <div class="property-actions-extended">
              <button class="action-btn btn-favorite" onclick="toggleFavorite(this)"><i class="fas fa-heart"></i></button>
              <button class="action-btn btn-share" onclick="shareProperty(this)"><i class="fas fa-share"></i></button>
              <button class="action-btn btn-compare" onclick="addToCompare(this)"><i class="fas fa-balance-scale"></i></button>
              <button class="action-btn btn-print" onclick="printProperty(this)"><i class="fas fa-print"></i></button>
              <button class="action-btn btn-contact" onclick="openContactModal(this)"><i class="fas fa-envelope"></i></button>
            </div>
          </div>
        </div>

        <!-- Plots -->
        <div class="property-card" data-category="plots">
          <div class="property-image">
            <img src="assets/images/283647522-800x600.webp" alt="Faisal Town Plot">
          </div>
          <div class="property-content">
            <h3>Residential Plot</h3>
            <div class="property-price">PKR 45 Lac</div>
            <p class="property-location"><i class="fas fa-map-marker-alt"></i>B-17 BLock - G, Islamabad</p>
            <div class="property-features">
              <span>5 Marla Plot</span>
            </div>
            <div class="property-actions">
              <a href="tel:+923125209696" class="btn-primary">Call Now</a>
              <a href="https://wa.me/923125209696" class="btn-secondary" target="_blank">WhatsApp</a>
            </div>
          </div>
        </div>

        <div class="property-card" data-category="plots">
          <div class="property-image">
            <img src="assets/images/5 marla plot2.webp" alt="Faisal Margalla City Plot">
          </div>
          <div class="property-content">
            <h3>Residential Plot</h3>
            <div class="property-price">PKR 95 Lakh</div>
            <p class="property-location"><i class="fas fa-map-marker-alt"></i>B-17 Block - C1, Islamabad</p>
            <div class="property-features">
              <span>5 Marla Plot</span>
              <span>Prime Location</span>
            </div>
            <div class="property-actions">
              <a href="tel:+923125209696" class="btn-primary">Call Now</a>
              <a href="https://wa.me/923125209696" class="btn-secondary" target="_blank">WhatsApp</a>
            </div>
          </div>
        </div>

        <!-- Installment Plans -->
        <div class="property-card" data-category="installments">
          <div class="property-image">
            <img src="assets/images/multi-garden.png" alt="Multi Garden Phase 2 Installment">
            <div class="property-logo">
              <img src="assets/images/logo.png" alt="Logo">
            </div>
          </div>
          <div class="property-content">
            <div class="installment-header">
              <h3>Multi Garden Phase 2</h3>
              <button class="expand-btn" onclick="togglePaymentPlan(this)">
                <i class="fas fa-chevron-down"></i>
              </button>
            </div>
            <p class="property-location"><i class="fas fa-map-marker-alt"></i> Rawalpindi</p>
            <div class="property-features">
              <span>20 Installments</span>
              <span>20% Lump Sum Discount</span>
            </div>
            <div class="payment-plan" style="display:none;">
              <h4><i class="fas fa-calculator"></i> Payment Plan Details</h4>
              <table class="payment-table">
                <thead>
                  <tr>
                    <th>Plot Size</th>
                    <th>Total Price</th>
                    <th>Land Cost</th>
                    <th>Membership Fee</th>
                    <th>Installments (x20)</th>
                    <th>Lump Sum (20% Off)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td>5 Marla</td><td>PKR 30.80 Lac</td><td>PKR 30.60 Lac</td><td>PKR 20K</td><td>PKR 1.25 Lac</td><td>PKR 24.70 Lac</td></tr>
                  <tr><td>8 Marla</td><td>PKR 41.80 Lac</td><td>PKR 41.60 Lac</td><td>PKR 20K</td><td>PKR 1.75 Lac</td><td>PKR 33.50 Lac</td></tr>
                  <tr><td>10 Marla</td><td>PKR 54.80 Lac</td><td>PKR 54.60 Lac</td><td>PKR 20K</td><td>PKR 2.35 Lac</td><td>PKR 43.80 Lac</td></tr>
                  <tr><td>14 Marla</td><td>PKR 67.80 Lac</td><td>PKR 67.60 Lac</td><td>PKR 20K</td><td>PKR 2.95 Lac</td><td>PKR 54.30 Lac</td></tr>
                  <tr><td>1 Kanal</td><td>PKR 89.80 Lac</td><td>PKR 89.60 Lac</td><td>PKR 20K</td><td>PKR 3.95 Lac</td><td>PKR 71.80 Lac</td></tr>
                  <tr><td>2 Kanal</td><td>PKR 1.70 Cr</td><td>PKR 1.69 Cr</td><td>PKR 20K</td><td>PKR 7.65 Lac</td><td>PKR 1.36 Cr</td></tr>
                </tbody>
              </table>
            </div>
            <div class="property-actions">
              <a href="tel:+923125209696" class="btn-primary">Call Now</a>
              <a href="https://wa.me/923125209696" class="btn-secondary" target="_blank">WhatsApp</a>
            </div>
          </div>
        </div>

        <div class="property-card hidden" data-category="installments">
          <div class="property-image">
            <img src="assets/images/faisal-town.png" alt="Faisal Town Phase 2 Installment">
            <div class="property-logo">
              <img src="assets/images/logo.png" alt="Logo">
            </div>
          </div>
          <div class="property-content">
            <div class="installment-header">
              <h3>Faisal Town Phase 2</h3>
              <button class="expand-btn" onclick="togglePaymentPlan(this)">
                <i class="fas fa-chevron-down"></i>
              </button>
            </div>
            <p class="property-location"><i class="fas fa-map-marker-alt"></i> Islamabad</p>
            <div class="property-features">
              <span>17 Quarterly Installments</span>
              <span>20% Lump Sum Discount</span>
            </div>
            <div class="payment-plan" style="display:none;">
              <h4><i class="fas fa-calculator"></i> Payment Plan Details</h4>
              <table class="payment-table">
                <thead>
                  <tr>
                    <th>Plot Size</th>
                    <th>Total Price</th>
                    <th>Down Payment</th>
                    <th>Quarterly (x17)</th>
                    <th>18th Installment</th>
                    <th>Lump Sum (20% Off)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td>25x50 (5.56 Marla)</td><td>PKR 34.95 Lac</td><td>PKR 6.90 Lac</td><td>PKR 1.55 Lac</td><td>PKR 1.70 Lac</td><td>PKR 27.90 Lac</td></tr>
                  <tr><td>30x60 (8 Marla)</td><td>PKR 46.65 Lac</td><td>PKR 7.50 Lac</td><td>PKR 2.15 Lac</td><td>PKR 2.60 Lac</td><td>PKR 37.30 Lac</td></tr>
                  <tr><td>35x70 (10.89 Marla)</td><td>PKR 60.65 Lac</td><td>PKR 8.90 Lac</td><td>PKR 2.85 Lac</td><td>PKR 3.30 Lac</td><td>PKR 48.50 Lac</td></tr>
                  <tr><td>40x80 (356 Sq. Yds)</td><td>PKR 75.85 Lac</td><td>PKR 11.60 Lac</td><td>PKR 3.55 Lac</td><td>PKR 3.90 Lac</td><td>PKR 60.60 Lac</td></tr>
                  <tr><td>50x90 (500 Sq. Yds)</td><td>PKR 1.02 Cr</td><td>PKR 13.15 Lac</td><td>PKR 4.90 Lac</td><td>PKR 5.10 Lac</td><td>PKR 81.20 Lac</td></tr>
                  <tr><td>75x120 (1000 Sq. Yds)</td><td>PKR 1.93 Cr</td><td>PKR 15.95 Lac</td><td>PKR 9.80 Lac</td><td>PKR 10.40 Lac</td><td>PKR 1.54 Cr</td></tr>
                </tbody>
              </table>
            </div>
            <div class="property-actions">
              <a href="tel:+923125209696" class="btn-primary">Call Now</a>
              <a href="https://wa.me/923125209696" class="btn-secondary" target="_blank">WhatsApp</a>
            </div>
          </div>
        </div>

        <div class="property-card hidden" data-category="installments">
          <div class="property-image">
            <img src="assets/images/faisal-hills.png" alt="Faisal Hills Installment">
            <div class="property-logo">
              <img src="assets/images/logo.png" alt="Logo">
            </div>
          </div>
          <div class="property-content">
            <div class="installment-header">
              <h3>Faisal Hills</h3>
              <button class="expand-btn" onclick="togglePaymentPlan(this)">
                <i class="fas fa-chevron-down"></i>
              </button>
            </div>
            <p class="property-location"><i class="fas fa-map-marker-alt"></i> Islamabad</p>
            <div class="property-features">
              <span>48 Months Plan</span>
              <span>Flexible Payment</span>
            </div>
            <div class="payment-plan" style="display:none;">
              <h4><i class="fas fa-calculator"></i> Payment Plan Details</h4>
              <table class="payment-table">
                <thead>
                  <tr>
                    <th>Plot Size</th>
                    <th>Total Price</th>
                    <th>Down Payment</th>
                    <th>Installments (x16)</th>
                    <th>Payment on Possession</th>
                    <th>Registration Fee</th>
                    <th>Lump Sum Discount (21%)</th>
                    <th>GST</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td>5 Marla</td><td>PKR 56.95 Lac</td><td>PKR 8.95 Lac</td><td>PKR 3.00 Lac</td><td>PKR 3.00 Lac</td><td>PKR 15K</td><td>PKR 45.00 Lac</td><td>PKR 14K</td></tr>
                  <tr><td>8 Marla</td><td>PKR 79.85 Lac</td><td>PKR 10.25 Lac</td><td>PKR 4.35 Lac</td><td>PKR 4.35 Lac</td><td>PKR 15K</td><td>PKR 63.10 Lac</td><td>PKR 20K</td></tr>
                  <tr><td>10 Marla</td><td>PKR 1.06 Cr</td><td>PKR 12.95 Lac</td><td>PKR 5.80 Lac</td><td>PKR 5.80 Lac</td><td>PKR 15K</td><td>PKR 83.50 Lac</td><td>PKR 27K</td></tr>
                  <tr><td>14 Marla</td><td>PKR 1.35 Cr</td><td>PKR 15.55 Lac</td><td>PKR 7.45 Lac</td><td>PKR 7.45 Lac</td><td>PKR 15K</td><td>PKR 1.06 Cr</td><td>PKR 36K</td></tr>
                  <tr><td>1 Kanal</td><td>PKR 1.84 Cr</td><td>PKR 18.35 Lac</td><td>PKR 10.35 Lac</td><td>PKR 10.35 Lac</td><td>PKR 15K</td><td>PKR 1.45 Cr</td><td>PKR 50K</td></tr>
                  <tr><td>2 Kanal</td><td>PKR 3.58 Cr</td><td>PKR 23.35 Lac</td><td>PKR 20.90 Lac</td><td>PKR 20.90 Lac</td><td>PKR 15K</td><td>PKR 2.83 Cr</td><td>PKR 1.00 Lac</td></tr>
                </tbody>
              </table>
            </div>
            <div class="property-actions">
              <a href="tel:+923125209696" class="btn-primary">Call Now</a>
              <a href="https://wa.me/923125209696" class="btn-secondary" target="_blank">WhatsApp</a>
            </div>
          </div>
        </div>
      </div>
      
      <div class="loading" id="loading">
        <i class="fas fa-spinner"></i>
        <p>Loading properties...</p>
      </div>
    </div>
  </section>

  <button class="back-to-top" id="backToTop" onclick="scrollToTop()">
    <i class="fas fa-chevron-up"></i>
  </button>

  <!-- Contact Modal -->
  <div class="modal" id="contactModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Quick Contact</h3>
        <button class="modal-close" onclick="closeModal('contactModal')">&times;</button>
      </div>
      <form id="contactForm">
        <div style="margin-bottom:1rem;">
          <label>Name:</label>
          <input type="text" style="width:100%;padding:0.5rem;border:1px solid #ddd;border-radius:4px;" required>
        </div>
        <div style="margin-bottom:1rem;">
          <label>Phone:</label>
          <input type="tel" style="width:100%;padding:0.5rem;border:1px solid #ddd;border-radius:4px;" required>
        </div>
        <div style="margin-bottom:1rem;">
          <label>Message:</label>
          <textarea style="width:100%;padding:0.5rem;border:1px solid #ddd;border-radius:4px;height:80px;"></textarea>
        </div>
        <button type="submit" style="background:#C28811;color:white;padding:0.75rem 1.5rem;border:none;border-radius:8px;cursor:pointer;">Send Message</button>
      </form>
    </div>
  </div>

  <!-- Gallery Modal -->
  <div class="modal" id="galleryModal">
    <div class="modal-content" style="max-width:800px;">
      <div class="modal-header">
        <h3>Property Gallery</h3>
        <button class="modal-close" onclick="closeModal('galleryModal')">&times;</button>
      </div>
      <div style="text-align:center;">
        <img id="galleryModalImage" style="max-width:100%;height:auto;border-radius:8px;">
      </div>
    </div>
  </div>

  <!-- Comparison Panel -->
  <div class="comparison-panel" id="comparisonPanel">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;">
      <h4>Compare Properties (<span id="compareCount">0</span>)</h4>
      <div>
        <button onclick="showComparison()" style="background:#C28811;color:white;padding:0.5rem 1rem;border:none;border-radius:4px;margin-right:0.5rem;">Compare</button>
        <button onclick="clearComparison()" style="background:#dc3545;color:white;padding:0.5rem 1rem;border:none;border-radius:4px;">Clear</button>
      </div>
    </div>
    <div class="comparison-items" id="comparisonItems"></div>
  </div>

  <div id="footer"></div>

  <script src="js/script.js"></script>
  <script>
    let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
    let comparison = [];
    let currentGallery = [];
    
    document.addEventListener('DOMContentLoaded', function() {
      const filterBtns = document.querySelectorAll('.filter-btn');
      const propertyCards = document.querySelectorAll('.property-card');
      const propertyCount = document.getElementById('propertyCount');
      const noResults = document.getElementById('noResults');
      const searchInput = document.getElementById('searchInput');
      const sortSelect = document.getElementById('sortSelect');
      const priceRange = document.getElementById('priceRange');
      const priceValue = document.getElementById('priceValue');
      
      function updateDisplay(activeFilter = 'all') {
        const loading = document.getElementById('loading');
        const propertiesGrid = document.querySelector('.properties-grid');
        const searchTerm = searchInput ? searchInput.value.toLowerCase() : '';
        const sortValue = sortSelect ? sortSelect.value : 'default';
        const maxPrice = priceRange ? parseInt(priceRange.value) : 50000000;
        const bedrooms = document.getElementById('bedroomFilter') ? document.getElementById('bedroomFilter').value : '';
        const bathrooms = document.getElementById('bathroomFilter') ? document.getElementById('bathroomFilter').value : '';
        const area = document.getElementById('areaFilter') ? document.getElementById('areaFilter').value : '';
        const size = document.getElementById('sizeFilter') ? document.getElementById('sizeFilter').value : '';
        
        loading.style.display = 'block';
        propertiesGrid.style.opacity = '0.5';
        
        setTimeout(() => {
          let visibleCards = [];
          
          propertyCards.forEach(card => {
            const category = card.getAttribute('data-category');
            const price = parseInt(card.getAttribute('data-price') || '0');
            const cardBedrooms = parseInt(card.getAttribute('data-bedrooms') || '0');
            const cardBathrooms = parseInt(card.getAttribute('data-bathrooms') || '0');
            const cardArea = card.getAttribute('data-area') || '';
            const cardSize = parseInt(card.getAttribute('data-size') || '0');
            const title = card.querySelector('h3').textContent.toLowerCase();
            const location = card.querySelector('.property-location').textContent.toLowerCase();
            
            let show = true;
            
            // Category filter
            if (activeFilter !== 'all' && category !== activeFilter) show = false;
            
            // Search filter
            if (searchTerm && !title.includes(searchTerm) && !location.includes(searchTerm)) show = false;
            
            // Price filter
            if (price > maxPrice) show = false;
            
            // Advanced filters
            if (bedrooms && cardBedrooms < parseInt(bedrooms)) show = false;
            if (bathrooms && cardBathrooms < parseInt(bathrooms)) show = false;
            if (area && !cardArea.includes(area)) show = false;
            if (size && cardSize !== parseInt(size)) show = false;
            
            if (show) {
              card.classList.remove('hidden');
              visibleCards.push({card, price, size: cardSize});
            } else {
              card.classList.add('hidden');
            }
          });
          
          // Sort visible cards
          if (sortValue !== 'default') {
            visibleCards.sort((a, b) => {
              switch(sortValue) {
                case 'price-low': return a.price - b.price;
                case 'price-high': return b.price - a.price;
                case 'size-small': return a.size - b.size;
                case 'size-large': return b.size - a.size;
                default: return 0;
              }
            });
            
            const grid = document.querySelector('.properties-grid');
            visibleCards.forEach(({card}) => grid.appendChild(card));
          }
          
          if (visibleCards.length === 0) {
            noResults.style.display = 'block';
            propertyCount.style.display = 'none';
          } else {
            noResults.style.display = 'none';
            propertyCount.style.display = 'block';
            propertyCount.textContent = `Showing ${visibleCards.length} ${visibleCards.length === 1 ? 'property' : 'properties'}`;
          }
          
          loading.style.display = 'none';
          propertiesGrid.style.opacity = '1';
        }, 300);
      }
      
      // Event listeners
      filterBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const filter = this.getAttribute('data-filter');
          filterBtns.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          updateDisplay(filter);
        });
      });
      
      if (searchInput) searchInput.addEventListener('input', () => updateDisplay());
      if (sortSelect) sortSelect.addEventListener('change', () => updateDisplay());
      if (priceRange) {
        priceRange.addEventListener('input', function() {
          const value = parseInt(this.value);
          if (priceValue) priceValue.textContent = value >= 10000000 ? (value/10000000).toFixed(1) + ' Cr' : (value/100000).toFixed(0) + ' Lac';
          updateDisplay();
        });
      }
      

      
      // Back to top
      const backToTop = document.getElementById('backToTop');
      window.addEventListener('scroll', () => {
        backToTop.classList.toggle('show', window.pageYOffset > 300);
      });
      
      // Advanced filters toggle
      const toggleAdvanced = document.getElementById('toggleAdvanced');
      const advancedPanel = document.getElementById('advancedPanel');
      const clearFilters = document.getElementById('clearFilters');
      const filterSummary = document.getElementById('filterSummary');
      
      toggleAdvanced.addEventListener('click', function() {
        this.classList.toggle('active');
        advancedPanel.classList.toggle('show');
      });
      
      // Clear all filters
      clearFilters.addEventListener('click', function() {
        searchInput.value = '';
        sortSelect.value = 'default';
        priceRange.value = '50000000';
        priceValue.textContent = '5 Cr';
        document.getElementById('bedroomFilter').value = '';
        document.getElementById('bathroomFilter').value = '';
        document.getElementById('areaFilter').value = '';
        document.getElementById('sizeFilter').value = '';
        filterBtns.forEach(btn => btn.classList.remove('active'));
        filterBtns[0].classList.add('active');
        updateFilterSummary();
        updateDisplay();
      });
      
      // Update filter summary
      function updateFilterSummary() {
        const tags = [];
        const search = searchInput.value;
        const sort = sortSelect.value;
        const price = parseInt(priceRange.value);
        const bedrooms = document.getElementById('bedroomFilter').value;
        const bathrooms = document.getElementById('bathroomFilter').value;
        const area = document.getElementById('areaFilter').value;
        const size = document.getElementById('sizeFilter').value;
        
        if (search) tags.push({type: 'search', text: `Search: ${search}`});
        if (sort !== 'default') tags.push({type: 'sort', text: `Sort: ${sort.replace('-', ' ')}`});
        if (price < 50000000) tags.push({type: 'price', text: `Max: ${price >= 10000000 ? (price/10000000).toFixed(1) + ' Cr' : (price/100000).toFixed(0) + ' Lac'}`});
        if (bedrooms) tags.push({type: 'bedrooms', text: `${bedrooms}+ Bedrooms`});
        if (bathrooms) tags.push({type: 'bathrooms', text: `${bathrooms}+ Bathrooms`});
        if (area) tags.push({type: 'area', text: `Area: ${area}`});
        if (size) tags.push({type: 'size', text: `${size} Marla`});
        
        filterSummary.innerHTML = tags.map(tag => 
          `<div class="filter-tag">${tag.text} <span class="remove" onclick="removeFilter('${tag.type}')">Ã—</span></div>`
        ).join('');
      }
      
      // Remove individual filter
      window.removeFilter = function(type) {
        switch(type) {
          case 'search': searchInput.value = ''; break;
          case 'sort': sortSelect.value = 'default'; break;
          case 'price': priceRange.value = '50000000'; priceValue.textContent = '5 Cr'; break;
          case 'bedrooms': document.getElementById('bedroomFilter').value = ''; break;
          case 'bathrooms': document.getElementById('bathroomFilter').value = ''; break;
          case 'area': document.getElementById('areaFilter').value = ''; break;
          case 'size': document.getElementById('sizeFilter').value = ''; break;
        }
        updateFilterSummary();
        updateDisplay();
      };
      
      // Add event listeners for filter summary updates
      [searchInput, sortSelect, priceRange, document.getElementById('bedroomFilter'), 
       document.getElementById('bathroomFilter'), document.getElementById('areaFilter'), 
       document.getElementById('sizeFilter')].forEach(element => {
        element.addEventListener('change', updateFilterSummary);
        element.addEventListener('input', updateFilterSummary);
      });
      
      // Load favorites and initialize
      loadFavorites();
      updateFilterSummary();
      updateDisplay();
    });
    
    function scrollToTop() {
      window.scrollTo({top: 0, behavior: 'smooth'});
    }
    
    function togglePaymentPlan(btn) {
      const paymentPlan = btn.closest('.property-content').querySelector('.payment-plan');
      const isVisible = paymentPlan.style.display !== 'none';
      paymentPlan.style.display = isVisible ? 'none' : 'block';
      btn.classList.toggle('expanded', !isVisible);
    }
    
    // Gallery functions
    function openGallery(cardIndex, imageIndex) {
      const modal = document.getElementById('galleryModal');
      const modalImage = document.getElementById('galleryModalImage');
      const card = document.querySelectorAll('.property-card')[cardIndex];
      const images = card.querySelectorAll('.gallery-thumb img');
      
      currentGallery = Array.from(images).map(img => img.src);
      modalImage.src = currentGallery[imageIndex];
      modal.classList.add('show');
    }
    
    function nextImage(cardIndex) {
      const card = document.querySelectorAll('.property-card')[cardIndex];
      const mainImg = card.querySelector('.gallery-main img');
      const thumbs = card.querySelectorAll('.gallery-thumb');
      const activeIndex = Array.from(thumbs).findIndex(thumb => thumb.classList.contains('active'));
      const nextIndex = (activeIndex + 1) % thumbs.length;
      
      thumbs[activeIndex].classList.remove('active');
      thumbs[nextIndex].classList.add('active');
      mainImg.src = thumbs[nextIndex].querySelector('img').src;
    }
    
    function prevImage(cardIndex) {
      const card = document.querySelectorAll('.property-card')[cardIndex];
      const mainImg = card.querySelector('.gallery-main img');
      const thumbs = card.querySelectorAll('.gallery-thumb');
      const activeIndex = Array.from(thumbs).findIndex(thumb => thumb.classList.contains('active'));
      const prevIndex = activeIndex === 0 ? thumbs.length - 1 : activeIndex - 1;
      
      thumbs[activeIndex].classList.remove('active');
      thumbs[prevIndex].classList.add('active');
      mainImg.src = thumbs[prevIndex].querySelector('img').src;
    }
    
    // Favorites
    function toggleFavorite(btn) {
      const card = btn.closest('.property-card');
      const title = card.querySelector('h3').textContent;
      
      if (btn.classList.contains('active')) {
        btn.classList.remove('active');
        favorites = favorites.filter(fav => fav !== title);
      } else {
        btn.classList.add('active');
        favorites.push(title);
      }
      
      localStorage.setItem('favorites', JSON.stringify(favorites));
    }
    
    function loadFavorites() {
      document.querySelectorAll('.property-card').forEach(card => {
        const title = card.querySelector('h3').textContent;
        const favBtn = card.querySelector('.btn-favorite');
        if (favorites.includes(title)) {
          favBtn.classList.add('active');
        }
      });
    }
    
    // Comparison
    function addToCompare(btn) {
      const card = btn.closest('.property-card');
      const title = card.querySelector('h3').textContent;
      const price = card.querySelector('.property-price').textContent;
      
      if (comparison.find(item => item.title === title)) return;
      
      comparison.push({title, price});
      updateComparisonPanel();
    }
    
    function updateComparisonPanel() {
      const panel = document.getElementById('comparisonPanel');
      const count = document.getElementById('compareCount');
      const items = document.getElementById('comparisonItems');
      
      count.textContent = comparison.length;
      items.innerHTML = comparison.map(item => 
        `<div class="comparison-item">
          <h5>${item.title}</h5>
          <p>${item.price}</p>
          <button onclick="removeFromCompare('${item.title}')" style="background:#dc3545;color:white;border:none;padding:0.25rem;border-radius:4px;">Remove</button>
        </div>`
      ).join('');
      
      panel.classList.toggle('show', comparison.length > 0);
    }
    
    function removeFromCompare(title) {
      comparison = comparison.filter(item => item.title !== title);
      updateComparisonPanel();
    }
    
    function clearComparison() {
      comparison = [];
      updateComparisonPanel();
    }
    
    function showComparison() {
      if (comparison.length < 2) {
        alert('Please select at least 2 properties to compare.');
        return;
      }
      alert('Comparison feature would open detailed comparison view.');
    }
    
    // Other functions
    function shareProperty(btn) {
      const card = btn.closest('.property-card');
      const title = card.querySelector('h3').textContent;
      const url = window.location.href;
      
      if (navigator.share) {
        navigator.share({title, url});
      } else {
        navigator.clipboard.writeText(url);
        alert('Property link copied to clipboard!');
      }
    }
    
    function printProperty(btn) {
      const card = btn.closest('.property-card');
      const content = card.innerHTML;
      const printWindow = window.open('', '_blank');
      printWindow.document.write(`<html><head><title>Property Details</title></head><body>${content}</body></html>`);
      printWindow.print();
    }
    
    function openContactModal(btn) {
      const modal = document.getElementById('contactModal');
      modal.classList.add('show');
    }
    
    function closeModal(modalId) {
      document.getElementById(modalId).classList.remove('show');
    }
    
    // Close modals on outside click
    document.querySelectorAll('.modal').forEach(modal => {
      modal.addEventListener('click', function(e) {
        if (e.target === this) closeModal(this.id);
      });
    });
  </script>
</body>
</html>